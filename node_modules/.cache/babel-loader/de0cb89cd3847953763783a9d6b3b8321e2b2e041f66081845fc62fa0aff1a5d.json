{"ast":null,"code":"var _jsxFileName = \"/Users/ilas/Desktop/Project/react-social-network-master/src/components/Dialogs/AddMessage/AddMessage.jsx\",\n  _s = $RefreshSig$();\n// Libraries\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { changeMessageTextActionCreator, sendMessageActionCreator } from '../../../redux/dialogs-reducer';\n\n// Component styles\nimport style from \"./AddMessage.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddMessage = props => {\n  _s();\n  // state\n  const message = useSelector(state => {\n    const message = state.dialogsPage.messageText;\n    return message;\n  });\n\n  // dispatch\n  const dispatch = useDispatch();\n  const myRef = /*#__PURE__*/React.createRef();\n\n  // Печать текста с сохранением в state\n  function changeMessage() {\n    let text = myRef.current.value;\n    dispatch(changeMessageTextActionCreator(text));\n  }\n\n  // Отправка сообщения в state\n  function sendMessage() {\n    dispatch(sendMessageActionCreator());\n  }\n\n  // Создание нового поста по нажатию на Enter\n  const pressEnter = e => {\n    if (e.keyCode == 13) {\n      sendMessage();\n      // props.postText = '';\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.new_message,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: myRef,\n        placeholder: \"Write a post...\",\n        value: message,\n        onChange: changeMessage,\n        onKeyDown: pressEnter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        children: \"Send message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n};\n_s(AddMessage, \"NV8BbTJptuzoVQsp7ff/eo+tU0w=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = AddMessage;\nexport default AddMessage;\nvar _c;\n$RefreshReg$(_c, \"AddMessage\");","map":{"version":3,"names":["React","useDispatch","useSelector","changeMessageTextActionCreator","sendMessageActionCreator","style","AddMessage","props","message","state","dialogsPage","messageText","dispatch","myRef","createRef","changeMessage","text","current","value","sendMessage","pressEnter","e","keyCode","new_message"],"sources":["/Users/ilas/Desktop/Project/react-social-network-master/src/components/Dialogs/AddMessage/AddMessage.jsx"],"sourcesContent":["// Libraries\nimport React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {changeMessageTextActionCreator, sendMessageActionCreator} from '../../../redux/dialogs-reducer'\n\n// Component styles\nimport style from \"./AddMessage.module.css\"\n\nconst AddMessage = (props) => {\n\n\t// state\n\tconst message = useSelector(state => {\n\t\tconst message = state.dialogsPage.messageText\n\t\treturn message\n\t})\n\n\t// dispatch\n\tconst dispatch = useDispatch()\n\n\tconst myRef = React.createRef();\n\n\t// Печать текста с сохранением в state\n\tfunction changeMessage() {\n\t\tlet text = myRef.current.value;\n\t\tdispatch(changeMessageTextActionCreator(text));\n\t}\n\n\t// Отправка сообщения в state\n\tfunction sendMessage() {\n\t\tdispatch(sendMessageActionCreator())\n\t}\n\n\t// Создание нового поста по нажатию на Enter\n\tconst pressEnter = (e) => {\n\t\tif (e.keyCode == 13) {\n\t\t\tsendMessage();\n\t\t\t// props.postText = '';\n\t\t}\n\t}\n\n\treturn (<>\n\t\t<div className={style.new_message}>\n                <textarea\n\t                ref={myRef}\n\t                placeholder=\"Write a post...\"\n\t                value={message}\n\t                onChange={changeMessage}\n\t                onKeyDown={pressEnter}/>\n\t\t\t<button onClick={sendMessage}>Send message</button>\n\t\t</div>\n\t</>)\n}\n\nexport default AddMessage;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,WAAW,EAAEC,WAAW,QAAO,aAAa;AAEpD,SAAQC,8BAA8B,EAAEC,wBAAwB,QAAO,gCAAgC;;AAEvG;AACA,OAAOC,KAAK,MAAM,yBAAyB;AAAA;AAAA;AAE3C,MAAMC,UAAU,GAAIC,KAAK,IAAK;EAAA;EAE7B;EACA,MAAMC,OAAO,GAAGN,WAAW,CAACO,KAAK,IAAI;IACpC,MAAMD,OAAO,GAAGC,KAAK,CAACC,WAAW,CAACC,WAAW;IAC7C,OAAOH,OAAO;EACf,CAAC,CAAC;;EAEF;EACA,MAAMI,QAAQ,GAAGX,WAAW,EAAE;EAE9B,MAAMY,KAAK,gBAAGb,KAAK,CAACc,SAAS,EAAE;;EAE/B;EACA,SAASC,aAAa,GAAG;IACxB,IAAIC,IAAI,GAAGH,KAAK,CAACI,OAAO,CAACC,KAAK;IAC9BN,QAAQ,CAACT,8BAA8B,CAACa,IAAI,CAAC,CAAC;EAC/C;;EAEA;EACA,SAASG,WAAW,GAAG;IACtBP,QAAQ,CAACR,wBAAwB,EAAE,CAAC;EACrC;;EAEA;EACA,MAAMgB,UAAU,GAAIC,CAAC,IAAK;IACzB,IAAIA,CAAC,CAACC,OAAO,IAAI,EAAE,EAAE;MACpBH,WAAW,EAAE;MACb;IACD;EACD,CAAC;;EAED,oBAAQ;IAAA,uBACP;MAAK,SAAS,EAAEd,KAAK,CAACkB,WAAY;MAAA,wBACpB;QACC,GAAG,EAAEV,KAAM;QACX,WAAW,EAAC,iBAAiB;QAC7B,KAAK,EAAEL,OAAQ;QACf,QAAQ,EAAEO,aAAc;QACxB,SAAS,EAAEK;MAAW;QAAA;QAAA;QAAA;MAAA,QAAE,eACtC;QAAQ,OAAO,EAAED,WAAY;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAsB;IAAA;MAAA;MAAA;MAAA;IAAA;EAC9C,iBACJ;AACJ,CAAC;AAAA,GA3CKb,UAAU;EAAA,QAGCJ,WAAW,EAMVD,WAAW;AAAA;AAAA,KATvBK,UAAU;AA6ChB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}