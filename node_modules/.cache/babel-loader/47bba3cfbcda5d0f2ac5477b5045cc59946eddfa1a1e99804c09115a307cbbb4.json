{"ast":null,"code":"const CHANGE_POST_TEXT = \"CHANGE-POST-TEXT\";\nconst ADD_POST = \"ADD-POST\";\nconst LIKE_POST = \"LIKE-POST\";\nlet initialState = {\n  posts: [{\n    id: 1,\n    message: \"Hi! It's my first post ðŸ™ŒðŸ»\",\n    likeCount: 0,\n    isLiked: false\n  }, {\n    id: 2,\n    message: \"Welcome to my first social network\",\n    likeCount: 0,\n    isLiked: false\n  }, {\n    id: 3,\n    message: \"Wish me good luck in learning React technologies ðŸ˜‚\",\n    likeCount: 1,\n    isLiked: false\n  }, {\n    id: 4,\n    message: \"I almost forgot, subscribe: github.com/ayratkin ðŸ˜ðŸ˜\",\n    likeCount: 9,\n    isLiked: false\n  }],\n  postText: \"\"\n};\nconst profileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_POST:\n      {\n        let newPostObj = {\n          id: 0,\n          message: state.postText,\n          likeCount: 0\n        };\n        return {\n          ...state,\n          posts: [...state.posts, newPostObj]\n        };\n      }\n    case CHANGE_POST_TEXT:\n      return {\n        ...state,\n        postText: action.newText\n      };\n    case LIKE_POST:\n      return {\n        ...state,\n        posts: state.posts.map(post => {\n          if (action.postId === post.id) {\n            if (post.isLiked) {\n              return {\n                ...post,\n                likeCount: post.likeCount - 1,\n                isLiked: false\n              };\n            } else {\n              return {\n                ...post,\n                likeCount: post.likeCount + 1,\n                isLiked: true\n              };\n            }\n          }\n          return post;\n        })\n      };\n    default:\n      return state;\n  }\n};\nexport const changePostTextActionCreator = text => {\n  return {\n    type: CHANGE_POST_TEXT,\n    newText: text\n  };\n};\nexport const addPostActionCreator = () => {\n  return {\n    type: ADD_POST\n  };\n};\nexport const likePostActionCreator = postId => {\n  return {\n    type: LIKE_POST,\n    postId: postId\n  };\n};\nexport default profileReducer;","map":{"version":3,"names":["CHANGE_POST_TEXT","ADD_POST","LIKE_POST","initialState","posts","id","message","likeCount","isLiked","postText","profileReducer","state","action","type","newPostObj","newText","map","post","postId","changePostTextActionCreator","text","addPostActionCreator","likePostActionCreator"],"sources":["/Users/ilas/Desktop/Project/react-social-network-master/src/redux/profile-reducer.js"],"sourcesContent":["const CHANGE_POST_TEXT = \"CHANGE-POST-TEXT\";\nconst ADD_POST = \"ADD-POST\";\nconst LIKE_POST = \"LIKE-POST\";\n\nlet initialState = {\n\tposts: [\n\t\t{id: 1, message: \"Hi! It's my first post ðŸ™ŒðŸ»\", likeCount: 0, isLiked: false},\n\t\t{id: 2, message: \"Welcome to my first social network\", likeCount: 0, isLiked: false},\n\t\t{id: 3, message: \"Wish me good luck in learning React technologies ðŸ˜‚\", likeCount: 1, isLiked: false},\n\t\t{id: 4, message: \"I almost forgot, subscribe: github.com/ayratkin ðŸ˜ðŸ˜\", likeCount: 9, isLiked: false},\n\t],\n\n\tpostText: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_POST: {\n\t\t\tlet newPostObj = {\n\t\t\t\tid: 0,\n\t\t\t\tmessage: state.postText,\n\t\t\t\tlikeCount: 0,\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: [...state.posts, newPostObj]\n\t\t\t}\n\n\t\t}\n\t\tcase CHANGE_POST_TEXT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpostText: action.newText,\n\t\t\t};\n\n\t\tcase LIKE_POST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: state.posts.map(post => {\n\t\t\t\t\tif (action.postId === post.id) {\n\t\t\t\t\t\tif (post.isLiked) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...post,\n\t\t\t\t\t\t\t\tlikeCount: post.likeCount - 1,\n\t\t\t\t\t\t\t\tisLiked: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...post,\n\t\t\t\t\t\t\t\tlikeCount: post.likeCount + 1,\n\t\t\t\t\t\t\t\tisLiked: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn post\n\t\t\t\t})\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport const changePostTextActionCreator = (text) => {\n\treturn {\n\t\ttype: CHANGE_POST_TEXT,\n\t\tnewText: text,\n\t};\n};\n\nexport const addPostActionCreator = () => {\n\treturn {\n\t\ttype: ADD_POST,\n\t};\n};\n\nexport const likePostActionCreator = (postId) => {\n\treturn {\n\t\ttype: LIKE_POST,\n\t\tpostId: postId,\n\t};\n};\n\nexport default profileReducer;\n"],"mappings":"AAAA,MAAMA,gBAAgB,GAAG,kBAAkB;AAC3C,MAAMC,QAAQ,GAAG,UAAU;AAC3B,MAAMC,SAAS,GAAG,WAAW;AAE7B,IAAIC,YAAY,GAAG;EAClBC,KAAK,EAAE,CACN;IAACC,EAAE,EAAE,CAAC;IAAEC,OAAO,EAAE,6BAA6B;IAAEC,SAAS,EAAE,CAAC;IAAEC,OAAO,EAAE;EAAK,CAAC,EAC7E;IAACH,EAAE,EAAE,CAAC;IAAEC,OAAO,EAAE,oCAAoC;IAAEC,SAAS,EAAE,CAAC;IAAEC,OAAO,EAAE;EAAK,CAAC,EACpF;IAACH,EAAE,EAAE,CAAC;IAAEC,OAAO,EAAE,qDAAqD;IAAEC,SAAS,EAAE,CAAC;IAAEC,OAAO,EAAE;EAAK,CAAC,EACrG;IAACH,EAAE,EAAE,CAAC;IAAEC,OAAO,EAAE,sDAAsD;IAAEC,SAAS,EAAE,CAAC;IAAEC,OAAO,EAAE;EAAK,CAAC,CACtG;EAEDC,QAAQ,EAAE;AACX,CAAC;AAED,MAAMC,cAAc,GAAG,YAAkC;EAAA,IAAjCC,KAAK,uEAAGR,YAAY;EAAA,IAAES,MAAM;EACnD,QAAQA,MAAM,CAACC,IAAI;IAClB,KAAKZ,QAAQ;MAAE;QACd,IAAIa,UAAU,GAAG;UAChBT,EAAE,EAAE,CAAC;UACLC,OAAO,EAAEK,KAAK,CAACF,QAAQ;UACvBF,SAAS,EAAE;QACZ,CAAC;QAED,OAAO;UACN,GAAGI,KAAK;UACRP,KAAK,EAAE,CAAC,GAAGO,KAAK,CAACP,KAAK,EAAEU,UAAU;QACnC,CAAC;MAEF;IACA,KAAKd,gBAAgB;MACpB,OAAO;QACN,GAAGW,KAAK;QACRF,QAAQ,EAAEG,MAAM,CAACG;MAClB,CAAC;IAEF,KAAKb,SAAS;MACb,OAAO;QACN,GAAGS,KAAK;QACRP,KAAK,EAAEO,KAAK,CAACP,KAAK,CAACY,GAAG,CAACC,IAAI,IAAI;UAC9B,IAAIL,MAAM,CAACM,MAAM,KAAKD,IAAI,CAACZ,EAAE,EAAE;YAC9B,IAAIY,IAAI,CAACT,OAAO,EAAE;cACjB,OAAO;gBACN,GAAGS,IAAI;gBACPV,SAAS,EAAEU,IAAI,CAACV,SAAS,GAAG,CAAC;gBAC7BC,OAAO,EAAE;cACV,CAAC;YACF,CAAC,MAAM;cACN,OAAO;gBACN,GAAGS,IAAI;gBACPV,SAAS,EAAEU,IAAI,CAACV,SAAS,GAAG,CAAC;gBAC7BC,OAAO,EAAE;cACV,CAAC;YACF;UACD;UACA,OAAOS,IAAI;QACZ,CAAC;MACF,CAAC;IAEF;MACC,OAAON,KAAK;EAAC;AAEhB,CAAC;AAED,OAAO,MAAMQ,2BAA2B,GAAIC,IAAI,IAAK;EACpD,OAAO;IACNP,IAAI,EAAEb,gBAAgB;IACtBe,OAAO,EAAEK;EACV,CAAC;AACF,CAAC;AAED,OAAO,MAAMC,oBAAoB,GAAG,MAAM;EACzC,OAAO;IACNR,IAAI,EAAEZ;EACP,CAAC;AACF,CAAC;AAED,OAAO,MAAMqB,qBAAqB,GAAIJ,MAAM,IAAK;EAChD,OAAO;IACNL,IAAI,EAAEX,SAAS;IACfgB,MAAM,EAAEA;EACT,CAAC;AACF,CAAC;AAED,eAAeR,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}